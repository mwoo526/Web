
> PassportExample@0.0.1 start /home/ubuntu/test01/PassportExample
> nodemon app.js

[33m[nodemon] 1.12.1[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching: *.*[39m
[32m[nodemon] starting `node app.js`[39m
events.js:141
      throw er; // Unhandled 'error' event
      ^

Error: EBADF: bad file descriptor, read
    at Error (native)

npm ERR! Linux 4.4.0-1022-aws
npm ERR! argv "/usr/bin/nodejs" "/usr/bin/npm" "start"
npm ERR! node v4.2.6
npm ERR! npm  v3.5.2
npm ERR! code ELIFECYCLE
npm ERR! PassportExample@0.0.1 start: `nodemon app.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the PassportExample@0.0.1 start script 'nodemon app.js'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the PassportExample package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     nodemon app.js
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs PassportExample
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls PassportExample
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     /home/ubuntu/test01/PassportExample/npm-debug.log
뷰 엔진이 ejs로 설정되었습니다.
config.server_port : 3000
route_loader.init 호출됨.
설정에 정의된 라우팅 모듈의 수 : 5
./user 파일에서 모듈정보를 읽어옴.
라우팅 모듈 [listuser]이(가) 설정됨.
./device 파일에서 모듈정보를 읽어옴.
라우팅 모듈 [adddevice]이(가) 설정됨.
./device 파일에서 모듈정보를 읽어옴.
라우팅 모듈 [listdevice]이(가) 설정됨.
./device 파일에서 모듈정보를 읽어옴.
라우팅 모듈 [register]이(가) 설정됨.
./device 파일에서 모듈정보를 읽어옴.
라우팅 모듈 [sendall]이(가) 설정됨.
서버가 시작되었습니다. 포트 : 3000
init() 호출됨.
connect() 호출됨.
`open()` is deprecated in mongoose >= 4.11.0, use `openUri()` instead, or set the `useMongoClient` option if using `connect()` or `createConnection()`. See http://mongoosejs.com/docs/connections.html#use-mongo-client
데이터베이스에 연결되었습니다. : mongodb://localhost:27017/local
설정에 정의된 스키마의 수 : 2
UserSchema 정의함.
./user_schema 모듈을 불러들인 후 스키마 정의함.
users13 컬렉션을 위해 모델 정의함.
스키마 이름 [UserSchema], 모델 이름 [UserModel] 이 database 객체의 속성으로 추가됨.
DeviceSchema 정의함.
./device_schema 모듈을 불러들인 후 스키마 정의함.
devices13 컬렉션을 위해 모델 정의함.
스키마 이름 [DeviceSchema], 모델 이름 [DeviceModel] 이 database 객체의 속성으로 추가됨.
database 객체가 app 객체의 속성으로 추가됨.
/ 패스 요청됨.
device 모듈 안에 있는 listdevice 호출됨.
[ model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: 'djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI',
       created_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 17:49:23 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 17:49:23 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 17:52:09 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 17:52:09 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:16:30 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:16:30 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:17:27 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:17:27 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:18:09 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:18:09 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:19:16 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:19:16 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:28:43 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:28:43 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:33:17 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:33:17 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:40:42 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:40:42 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:40:45 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:40:45 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:40:46 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:40:46 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:40:52 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:40:52 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:57:31 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:57:31 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 19:13:26 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 19:13:26 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 19:35:38 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 19:35:38 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 19:35:57 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 19:35:57 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 19:36:05 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 19:36:05 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 19:51:47 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 19:51:47 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true } ]
device 모듈 안에 있는 register 호출됨.
요청 파라미터 : +821043663695, djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI
등록 ID 업데이트함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: {},
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: undefined,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: StateMachine { paths: [Object], states: [Object], stateNames: [Object] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: 'djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI',
     created_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     updated_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     __v: 0,
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] } },
  '$init': true }
device 모듈 안에 있는 adddevice 호출됨.
요청 파라미터 : +821043663695, 7.0, SM-G920K, 1440x2560, samsung, 02:00:00:00:00:00
단말 데이터 추가함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: undefined,
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: true,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: 
      StateMachine {
        paths: {},
        states: [Object],
        stateNames: [Object],
        map: [Function] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: '',
     created_at: Thu Nov 09 2017 21:06:10 GMT+0000 (UTC),
     updated_at: Thu Nov 09 2017 21:06:10 GMT+0000 (UTC),
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     __v: 0 } }
device 모듈 안에 있는 register 호출됨.
요청 파라미터 : +821043663695, djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI
device 모듈 안에 있는 adddevice 호출됨.
요청 파라미터 : +821043663695, 7.0, SM-G920K, 1440x2560, samsung, 02:00:00:00:00:00
등록 ID 업데이트함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: {},
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: undefined,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: StateMachine { paths: [Object], states: [Object], stateNames: [Object] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: 'djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI',
     created_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     updated_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     __v: 0,
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] } },
  '$init': true }
단말 데이터 추가함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: undefined,
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: true,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: 
      StateMachine {
        paths: {},
        states: [Object],
        stateNames: [Object],
        map: [Function] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: '',
     created_at: Thu Nov 09 2017 21:06:16 GMT+0000 (UTC),
     updated_at: Thu Nov 09 2017 21:06:16 GMT+0000 (UTC),
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     __v: 0 } }
device 모듈 안에 있는 adddevice 호출됨.
요청 파라미터 : +821043663695, 7.0, SM-G920K, 1440x2560, samsung, 02:00:00:00:00:00
device 모듈 안에 있는 register 호출됨.
요청 파라미터 : +821043663695, djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI
단말 데이터 추가함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: undefined,
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: true,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: 
      StateMachine {
        paths: {},
        states: [Object],
        stateNames: [Object],
        map: [Function] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: '',
     created_at: Thu Nov 09 2017 21:06:22 GMT+0000 (UTC),
     updated_at: Thu Nov 09 2017 21:06:22 GMT+0000 (UTC),
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     __v: 0 } }
등록 ID 업데이트함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: {},
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: undefined,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: StateMachine { paths: [Object], states: [Object], stateNames: [Object] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: 'djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI',
     created_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     updated_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     __v: 0,
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] } },
  '$init': true }
device 모듈 안에 있는 register 호출됨.
요청 파라미터 : 11시 30분 예약 알림
[ model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: 'djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI',
       created_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 17:49:23 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 17:49:23 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 17:52:09 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 17:52:09 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:16:30 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:16:30 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:17:27 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:17:27 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:18:09 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:18:09 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:19:16 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:19:16 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:28:43 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:28:43 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:33:17 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:33:17 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:40:42 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:40:42 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:40:45 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:40:45 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:40:46 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:40:46 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:40:52 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:40:52 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 18:57:31 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 18:57:31 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 19:13:26 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 19:13:26 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 19:35:38 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 19:35:38 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 19:35:57 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 19:35:57 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 19:36:05 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 19:36:05 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 19:51:47 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 19:51:47 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 21:06:10 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 21:06:10 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 21:06:16 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 21:06:16 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true },
  model {
    '$__': 
     InternalCache {
       strictMode: true,
       selected: {},
       shardval: undefined,
       saveError: undefined,
       validationError: undefined,
       adhocPaths: undefined,
       removing: undefined,
       inserting: undefined,
       version: undefined,
       getters: {},
       _id: [Object],
       populate: undefined,
       populated: undefined,
       wasPopulated: false,
       scope: undefined,
       activePaths: [Object],
       pathsToScopes: {},
       ownerDocument: undefined,
       fullPath: undefined,
       emitter: [Object],
       '$options': true },
    isNew: false,
    errors: undefined,
    _doc: 
     { mobile: '+821043663695',
       osVersion: '7.0',
       model: 'SM-G920K',
       display: '1440x2560',
       manufacturer: 'samsung',
       macAddress: '02:00:00:00:00:00',
       registrationId: '',
       created_at: Thu Nov 09 2017 21:06:22 GMT+0000 (UTC),
       updated_at: Thu Nov 09 2017 21:06:22 GMT+0000 (UTC),
       __v: 0,
       _id: [Object] },
    '$init': true } ]
등록 ID #0 : 0
등록 ID #1 : 1
등록 ID #2 : 2
등록 ID #3 : 3
등록 ID #4 : 4
등록 ID #5 : 5
등록 ID #6 : 6
등록 ID #7 : 7
등록 ID #8 : 8
등록 ID #9 : 9
등록 ID #10 : 10
등록 ID #11 : 11
등록 ID #12 : 12
등록 ID #13 : 13
등록 ID #14 : 14
등록 ID #15 : 15
등록 ID #16 : 16
등록 ID #17 : 17
등록 ID #18 : 18
등록 ID #19 : 19
등록 ID #20 : 20
등록 ID #21 : 21
전송 대상 단말 수 : 22
{ multicast_id: 8690400929897050000,
  success: 1,
  failure: 21,
  canonical_ids: 0,
  results: 
   [ { message_id: '0:1510261638053814%d4f84359f9fd7ecd' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' },
     { error: 'MissingRegistration' } ] }
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
device 모듈 안에 있는 adddevice 호출됨.
요청 파라미터 : +821043663695, 7.0, SM-G920K, 1440x2560, samsung, 02:00:00:00:00:00
단말 데이터 추가함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: undefined,
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: true,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: 
      StateMachine {
        paths: {},
        states: [Object],
        stateNames: [Object],
        map: [Function] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: '',
     created_at: Fri Nov 10 2017 04:02:02 GMT+0000 (UTC),
     updated_at: Fri Nov 10 2017 04:02:02 GMT+0000 (UTC),
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     __v: 0 } }
device 모듈 안에 있는 register 호출됨.
요청 파라미터 : +821043663695, djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI
등록 ID 업데이트함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: {},
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: undefined,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: StateMachine { paths: [Object], states: [Object], stateNames: [Object] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: 'djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI',
     created_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     updated_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     __v: 0,
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] } },
  '$init': true }
device 모듈 안에 있는 adddevice 호출됨.
요청 파라미터 : +821043663695, 7.0, SM-G920K, 1440x2560, samsung, 02:00:00:00:00:00
device 모듈 안에 있는 register 호출됨.
요청 파라미터 : +821043663695, djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI
단말 데이터 추가함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: undefined,
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: true,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: 
      StateMachine {
        paths: {},
        states: [Object],
        stateNames: [Object],
        map: [Function] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: '',
     created_at: Fri Nov 10 2017 04:02:14 GMT+0000 (UTC),
     updated_at: Fri Nov 10 2017 04:02:14 GMT+0000 (UTC),
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     __v: 0 } }
등록 ID 업데이트함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: {},
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: undefined,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: StateMachine { paths: [Object], states: [Object], stateNames: [Object] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: 'djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI',
     created_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     updated_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     __v: 0,
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] } },
  '$init': true }
device 모듈 안에 있는 adddevice 호출됨.
요청 파라미터 : +821043663695, 7.0, SM-G920K, 1440x2560, samsung, 02:00:00:00:00:00
device 모듈 안에 있는 register 호출됨.
요청 파라미터 : +821043663695, djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI
단말 데이터 추가함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: undefined,
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: true,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: 
      StateMachine {
        paths: {},
        states: [Object],
        stateNames: [Object],
        map: [Function] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: '',
     created_at: Fri Nov 10 2017 04:02:16 GMT+0000 (UTC),
     updated_at: Fri Nov 10 2017 04:02:16 GMT+0000 (UTC),
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     __v: 0 } }
등록 ID 업데이트함.
model {
  '$__': 
   InternalCache {
     strictMode: true,
     selected: {},
     shardval: undefined,
     saveError: undefined,
     validationError: undefined,
     adhocPaths: undefined,
     removing: undefined,
     inserting: undefined,
     version: undefined,
     getters: {},
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] },
     populate: undefined,
     populated: undefined,
     wasPopulated: false,
     scope: undefined,
     activePaths: StateMachine { paths: [Object], states: [Object], stateNames: [Object] },
     pathsToScopes: {},
     ownerDocument: undefined,
     fullPath: undefined,
     emitter: EventEmitter { domain: null, _events: {}, _eventsCount: 0, _maxListeners: 0 },
     '$options': true },
  isNew: false,
  errors: undefined,
  _doc: 
   { mobile: '+821043663695',
     osVersion: '7.0',
     model: 'SM-G920K',
     display: '1440x2560',
     manufacturer: 'samsung',
     macAddress: '02:00:00:00:00:00',
     registrationId: 'djaRnFGBQsU:APA91bHrWykQQReRh7RiOPBp5jGG0nm1bkC3oJBJ-GzOQZdmZo0W8l2gVLIvQdmU4wq-CkyMAl5BnqKbmXlLZXURFGlw5elSesoMZvXDrr1fyucj5gHCpQ2nROWtS2_7l2X-vMclRLPI',
     created_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     updated_at: Thu Nov 09 2017 06:46:59 GMT+0000 (UTC),
     __v: 0,
     _id: ObjectID { _bsontype: 'ObjectID', id: [Object] } },
  '$init': true }
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
/ 패스 요청됨.
